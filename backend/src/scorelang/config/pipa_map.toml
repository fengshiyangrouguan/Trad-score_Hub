# =========================================
# ğŸ¼ ç»Ÿä¸€è§„åˆ™é…ç½®ï¼ˆè¯æ³• + è¯­ä¹‰ï¼‰
# =========================================

# -----------------------------------------
# ä¹æ®µ / Section
# -----------------------------------------

[[TOKENS]]
name = "SECTION"
pattern = "^##\\s*(.+)"
flags = "IGNORECASE"
semantic = "section"
group1 = true

# -----------------------------------------
# æ–‡æ¡£å…ƒæ•°æ®
# -----------------------------------------

[[TOKENS]]
name = "SCORE_DOCUMENT"
pattern = "^#\\s*(.+)"
flags = "IGNORECASE"
semantic = "document_meta"
group1 = true

[[TOKENS]]
name = "MODE"
pattern = "^@\\s*(.+)"
flags = "IGNORECASE"
semantic = "mode"
group1 = true

[[TOKENS]]
name = "DOCUMENT_META"
pattern = "^%\\s*(.+?)ï¼š\\s*(.+)"
flags = "IGNORECASE"
semantic = "document_meta"
group1 = true   # å­—æ®µåï¼Œä¾‹å¦‚ æ¥æºã€å½•å…¥ã€å®¡æ ¡ã€æ—¥æœŸ
group2 = true   # å­—æ®µå€¼ï¼Œä¾‹å¦‚ ä¸‰äº”è¦å½•ã€å¼ ä¸‰ã€æå››ã€2025-10-12


# -----------------------------------------
# ä¹è°±ç¬¦å·ç±»
# -----------------------------------------

[[TOKENS]]
name = "RHYTHM_MOD"
pattern = "^(\\/yp|\\/pz|\\/py|\\/r|\\/b)"
flags = "IGNORECASE"
semantic = "modifier"
group1 = true

[[TOKENS]]
name = "TIME_MOD"
pattern = "^(\\/y|\\/hh|\\/h)"
flags = "IGNORECASE"
semantic = "modifier"
group1 = true

[[TOKENS]]
name = "SUB_CHAR"
pattern = "^[ï¼ˆ\\(](.+)[ï¼‰\\)]"
flags = "IGNORECASE"
semantic = "modifier"
group1 = true

[[TOKENS]]
name = "MAIN_CHAR"
pattern = "^(ä¸€|äºŒ|ä¸‰|å››|äº”|å…­|ä¸ƒ|å…«|ä¹|å|åŒ•|åœ|æ•·|ä¹™|è¨€|åˆ|æ–—|ä¹|ä¹‹|ä¹Ÿ|ä¸)"
flags = "IGNORECASE"

# -----------------------------------------
# æ³¨é‡Š / æ–‡æœ¬
# -----------------------------------------

[[TOKENS]]
name = "COMMENT"
pattern = "^=\\s*(.+)"
flags = "IGNORECASE"
semantic = "textunit"
group1 = true


# -----------------------------------------
# çŠ¶æ€æœºé…ç½® / ç»“æ„ç¬¦å·
# -----------------------------------------

[[TOKENS]]
name = "UNIT_START"
pattern = "^{"
flags = "IGNORECASE"
semantic = "control"
state_push = "scoreunit"  # è¿›å…¥æ–°çŠ¶æ€

[[TOKENS]]
name = "UNIT_END"
pattern = "^}"
flags = "IGNORECASE"
semantic = "control"
state_pop = true  # é€€å‡ºå½“å‰çŠ¶æ€

[[TOKENS]]
name = "SKIP_SPACE"
pattern = "^\\s+"
flags = "IGNORECASE"
